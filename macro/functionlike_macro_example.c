#include <stdio.h>
#define find_max(array,length) ({\
                                int curren_max = array[0];\
                                typeof(array[0] curren_max = array[0];)\
                                for(int i = 1; i<length; i++){\
                                if (array[i]>current_max){\
                                curren_max = array[i];\
                                curren_max;\
                                })
int main(void){
  int int_array[]={3,5,6,7,8,9,3};
  int max_int = find_max(int_array,7);
  printf("max_int: %d\n", max_int);
  return 0;
}
